---
layout: post
title:  "[SOSCON 2017] 오픈소스로 사내 인프라 구축하기"
subtitle:   "SOSCON"
categories: review
tags: event
comments: true
---

- 배포 서버/ 메일서버 구축 -> DNS 서버/ 배포서버/ 메일서버

젠킨스 / 포스트픽스

- 인프라 서비스 배포 관리

도커

- CRM 등 사내 어플리케이션

이슈트래커, BI등 사내 앱

- 서버 어플리케이션 배포 관리

도커 스웜

- VPN으로 사내망 접속관리

테스트서버 구축

---

사내 인프로 구축

- 사내 네트워크망 구축

방화벽 설정, 퍼블릭 클라우드, VPN

- 서버 어플리케이션 오케스트레이션

여러 앱 배포 환경 설정, 인프라/ 사내/ 제품 앱 배포

---

vyOS vs pfSense vs openwrt

vyos - debian 기반 호환성 벗 아직 나온지 얼마 안됨

openwrt - 임베디드에서 효율적으로 작동, 하지만 x86을 이용하기로해서 배제

---

pfSense

document -faq - operation guide가 있음

pfSense는 이슈트래커를 레드마인을 사용함. 포럼에서 해결못하면 레드마인에서 검색해보면 어떤 상태인지 알 수 있다.

---

인프라구축 

서브넷별 사용 IP주소 대역 - rfc5735 ipv4 문서가 있음, 네트워크 대역폭, 디바이스 스펙(공유기? PC? 서버용?)... 

모니터링 (장애 발생 및 인지 간 term 최소화, 여건이 된다면 HA구성 - 비용이 듬)

지속적 확장 및 유지

---

인프라 서비스 배포

도커 스웜을 사용중이었는데 소규모에 적합한 것 같음. 문제가 있다. so, kubernates로 옮기는 중인데 쿠버네이트도 안정적이지 않아 고민중.

깃헙의 ip로 오는 웹훅을 화이트리스트로 등록해서 사내에서 젠킨스에 전해지도록 함.

오픈소스 on premise 리소스 관리 도구 - 오픈스택, DCOS 등이 있음.

오픈스택은 버그가 엄청많음.

---

고문중이 확장성

- 온프레미스 리소스 관리, 오케스트레이션

- Ansible을 이용한 인프로 재구축

- HA구성